<!doctype html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>TechNova | Detalle del servicio © F1-G16</title>
    <link rel="stylesheet" href="../assets/technova.css">
</head>
<body>
    <header class="header"><div class="brand">TechNova</div><nav class="nav">
        <a href="index.html">inicio</a>
        <a href="servicios.html">Servicios</a>
        <a href="#">Proyectos</a>
        <a class="btn" href="#">Contacto</a>
        <a class="btn" href="login.html">Login</a></nav>
    </header>

    <main class="container">
        <h1>Nuestros Servicios / Detalle</h1>
        <section class="card" style="padding:24px; display:grid; grid-template-columns:1.2fr 1fr; gap:24px;">
            <div id="imgWrap"></div>
            <div id="info"></div>
        </section>
    </main>

    <footer class="footer" role="contentinfo">
        <strong>TechNova Solutions</strong>
        <div class="spacer"></div>

        <a class="link" href="index.html">inicio</a>
        <a class="link" href="servicios.html">Servicios</a>

        <div class="socials">
            <a class="chip" href="" aria-label="LinkedIn" target="_blank" rel="noopener">
                <img src="../assets/icons/linkedin.png" alt="">
            </a>
            <a class="chip" href="" aria-label="X" target="_blank" rel="noopener">
                <img src="../assets/icons/twitter.png" alt="">
            </a>
            <a class="chip" href="" aria-label="WhatsApp" target="_blank" rel="noopener">
                <img src="../assets/icons/whatsapp.png" alt="">
            </a>
        </div>
    </footer>

    <script src="../js/data.js"></script>
    <script>
        function iconsBase(){
            // Si la página está dentro de /pages usa ../assets/icons/, si no, assets/icons/
            return location.pathname.includes('/pages/') ? '../assets/icons/' : 'assets/icons/';
        }
    </script>

    <script>
        const base   = iconsBase();
        const params = new URLSearchParams(location.search);
        const s      = getService(params.get('id')) || loadServices()[0];

        // Imagen grande
        const imgWrap = document.getElementById('imgWrap');
        imgWrap.innerHTML = `
            <div style="height:360px; display:grid; place-items:center;
                        border-radius:10px; background:#f9fafb; border:1px solid #e5e7eb;">
            <img src="${base}${s.icon || 'default.svg'}" alt="${s.nombre}" width="160" height="160"
                onerror="this.onerror=null;this.src='${base}default.svg';">
            </div>
        `;

        // Texto y acciones
        const info = document.getElementById('info');
        info.innerHTML = `
            <h2 style="margin:0 0 8px 0;">${s.nombre}</h2>
            <div class="small" style="margin-bottom:8px;">Precio: ${formatMoney(s.precio)}</div>
            <div class="small" style="margin-bottom:8px;">Disponibilidad: ${s.stock}</div>
            ${ s.en_promocion ? '<span class="badge">Promo</span>' : '' }
            <p style="margin-top:16px">${s.descripcion || ''}</p>
            <div style="display:flex; gap:12px; margin-top:24px">
            <a class="btn" href="#contacto">Solicitar</a>
            <button class="btn" onclick="alert('Agregado (simulado)')">Agregar al carrito</button>
            </div>
            <p class="small" style="margin-top:12px"><a class="link" href="servicios.html">Volver al catálogo</a></p>
        `;
    </script>
</body>
</html>
